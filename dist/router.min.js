/*!
 * router v0.1.0 (https://github.com/progrape/router)
 * Copyright 2016
 * Licensed under the  MIT license
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Router",[],t):"object"==typeof exports?exports.Router=t():e.Router=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(1),s=o(a),u=function(){function e(t){i(this,e),this._options={container:"#container",pagesContainer:"#pages_container",enter:"enter",enterTimeout:0,leave:"leave",leaveTimeout:0},this._index=1,this._$container=null,this._$pagesContainer=null,this._routes=[],this._default=null,this._options=s.extend(this._options,t),this._$container=document.querySelector(this._options.container),this._$pagesContainer=document.querySelector(this._options.pagesContainer)}return r(e,[{key:"init",value:function(){var e=this;window.addEventListener("hashchange",function(t){var n=s.getHash(t.newURL),o=history.state||{};e._go(n,o._index<=e._index)},!1),history.state&&history.state._index&&(this._index=history.state._index),this._index--;var t=s.getHash(location.href),n=this._getRoute(t);return this.go(n?t:this._default),this}},{key:"push",value:function(e){return e=s.extend({url:"*",className:"",render:s.noop,bind:s.noop},e),this._routes.push(e),this}},{key:"setDefault",value:function(e){return this._default=e,this}},{key:"_go",value:function(e){var t=this,n=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],o=this._getRoute(e);if(!o)throw new Error("url "+e+" was not found");return!function(){var e=document.querySelector(o.render),i=t._$container.hasChildNodes();i&&!function(){var e=t._$container.childNodes[0];n&&e.classList.add(t._options.leave),t._options.leaveTimeout>0?!function(){var n=t;setTimeout(function(){n._$pagesContainer.appendChild(e.childNodes[0]),e.parentNode.removeChild(e)},t._options.leaveTimeout)}():(t._$pagesContainer.appendChild(e.childNodes[0]),e.parentNode.removeChild(e))}();var r=document.createElement("div");o.className&&r.classList.add(o.className),r.appendChild(e),t._$container.appendChild(r),!n&&t._options.enter&&i&&r.classList.add(t._options.enter),t._options.enterTimeout>0?setTimeout(function(){r.classList.remove(t._options.enter)},t._options.enterTimeout):r.classList.remove(t._options.enter);try{n?t._index--:t._index++,history.replaceState&&history.replaceState({_index:t._index},"",location.href)}catch(a){}"function"!=typeof o.bind||o.__isBind||(o.bind.call(r),o.__isBind=!0)}(),this}},{key:"go",value:function(e){this._$container.hasChildNodes()?location.hash="#"+e:this._go(e)}},{key:"_getRoute",value:function(e){for(var t=0,n=this._routes.length;n>t;t++){var o=this._routes[t],i=s.getRegExp(o.url),r=s.getParams(o.url),a=i.exec(e);if(a){o.params={};for(var u=0,c=r.length;c>u;u++){var l=r[u];o.params[l]=a[u+1]}return o}}return null}}]),e}();t["default"]=u,e.exports=t["default"]},function(e,t){"use strict";function n(e,t){for(var n in t)e[n]=t[n];return e}function o(e){return-1!==e.indexOf("#")?e.substring(e.indexOf("#")+1):"/"}function i(){}function r(e){var t=/\((.*?)\)/g,n=/(\(\?)?:\w+/g,o=/\*\w+/g,i=/[\-{}\[\]+?.,\\\^$|#\s]/g;return e=e.replace(i,"\\$&").replace(t,"(?:$1)?").replace(n,function(e,t){return t?e:"([^/?]+)"}).replace(o,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")}function a(e){for(var t=/:(\w+)/g,n=[],o=void 0;null!==(o=t.exec(e));)n.push(o[1]);return n}Object.defineProperty(t,"__esModule",{value:!0}),t.extend=n,t.getHash=o,t.noop=i,t.getRegExp=r,t.getParams=a}])});